<!DOCTYPE html>
<html>
<head>
    <title>Refreshing Mietzekater</title>
    <script>
        window.onload = function() {
            // Try to open the app with both URL schemes
            var fallbackTimer;
            
            function tryOpenApp() {
                // Try the first URL scheme
                window.location.href = 'mietzekater://stripe/refresh' + window.location.search;
                
                // Try the second URL scheme after a short delay
                setTimeout(function() {
                    window.location.href = 'com.simonandvincent.mietzekater://stripe/refresh' + window.location.search;
                }, 500);

                // Set fallback timer for app store
                fallbackTimer = setTimeout(openAppStore, 2000);
            }

            function openAppStore() {
                // For Android
                if (/android/i.test(navigator.userAgent)) {
                    window.location.href = 'https://play.google.com/store/apps/details?id=com.simonandvincent.mietzekater';
                }
                // For iOS
                else if (/iphone|ipad|ipod/i.test(navigator.userAgent)) {
                    window.location.href = 'https://apps.apple.com/app/mietzekater/id...';
                }
            }

            tryOpenApp();
        }
    </script>
</head>
<body>
    <h1>Refreshing Mietzekater...</h1>
    <p>If you are not automatically redirected, please click <a href="https://play.google.com/store/apps/details?id=com.simonandvincent.mietzekater">here</a> to download the app.</p>
</body>
</html>